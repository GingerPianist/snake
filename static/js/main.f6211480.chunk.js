(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{36:function(e,r,t){e.exports=t(46)},41:function(e,r,t){},46:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),c=t(10),u=t.n(c),o=(t(41),t(18)),l=t(62),i=t(71),s=t(64),m=t(65),f=Object(l.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column"},title:{color:"red"}});var d=function(e){var r=e.startGame,t=f();return n.a.createElement("div",{className:t.main},n.a.createElement(s.a,{variant:"h1",className:t.title},"Snake"),n.a.createElement(m.a,{variant:"contained",onClick:r},"Play"))},h=t(19),v=t(72),p=t(67),b=t(68),w=t(69),g=t(70),E=Object(l.a)({});var k=function(e){var r=e.grid;return E(),n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("tbody",null,r.map((function(e){return n.a.createElement("tr",null,e.map((function(e){return n.a.createElement("td",{style:{height:30,width:30,backgroundColor:e}})})))})))))},O=t(25),j=t(66),y=Object(l.a)({main:{margin:"auto"},header:{display:"flex",flexDirection:"row",alignItems:"center"},grow:{flexGrow:1},appBar:{backgroundColor:O.a[900]}}),x={snake:O.a[500],apple:j.a[400],grid:"lightgrey"};var S=function(e){var r=e.gameOver,t=y(),c=Object(a.useState)([]),u=Object(o.a)(c,2),l=u[0],i=u[1],m=Object(a.useRef)([0,0]),f=Object(a.useRef)([]),d=Object(a.useRef)(0),E=Object(a.useRef)(3),O=Object(a.useRef)([0,0]),j=Object(a.useState)(0),S=Object(o.a)(j,2),N=S[0],M=S[1];function D(){switch(d.current){case 0:m.current[1]++;break;case 1:m.current[0]--;break;case 2:m.current[1]--;break;case 3:m.current[0]++}m.current[0]+=20,m.current[0]%=20,m.current[1]+=40,m.current[1]%=40,0!==f.current[m.current[0]][m.current[1]]?r():i((function(e){for(var r=Object(h.a)(e),t=0;t<20;t++)for(var a=0;a<40;a++)0!==f.current[t][a]&&(--f.current[t][a],0===f.current[t][a]&&(r[t]=Object(h.a)(e[t]),r[t][a]=x.grid));if(f.current[m.current[0]][m.current[1]]=E.current,m.current[0]===O.current[0]&&m.current[1]===O.current[1])if(E.current++,E.current<800){do{O.current[0]=Math.floor(20*Math.random()),O.current[1]=Math.floor(40*Math.random())}while(0!==f.current[O.current[0]][O.current[1]]);r[O.current[0]]=Object(h.a)(r[O.current[0]]),r[O.current[0]][O.current[1]]=x.apple}else O.current=[-1,-1];return r[m.current[0]]=Object(h.a)(r[m.current[0]]),r[m.current[0]][m.current[1]]=x.snake,r}))}function R(e){switch(console.log(e.key),e.key){case"ArrowRight":2!==d.current&&(d.current=0);break;case"ArrowUp":3!==d.current&&(d.current=1);break;case"ArrowLeft":0!==d.current&&(d.current=2);break;case"ArrowDown":1!==d.current&&(d.current=3);break;case"p":C()}}function C(){M(1===N?0:1)}return Object(a.useEffect)((function(){O.current[0]=Math.floor(20*Math.random()),O.current[1]=Math.floor(40*Math.random());var e=[];f.current=[];for(var r=0;r<20;r++){for(var t=[],a=[],n=0;n<40;n++)r===O.current[0]&&n===O.current[1]?t.push(x.apple):t.push(x.grid),a.push(0);e.push(t),f.current.push(a)}i(e)}),[]),Object(a.useEffect)((function(){var e;return 0===N&&(e=setInterval(D,200)),document.addEventListener("keydown",R),function(){clearInterval(e),document.removeEventListener("keydown",R)}}),[N]),n.a.createElement("div",{className:t.main},n.a.createElement(v.a,{position:"static",className:t.appBar},n.a.createElement(p.a,{className:t.header},n.a.createElement(s.a,{variant:"h6"},"Tw\xf3j wynik to: ",E.current),n.a.createElement("div",{className:t.grow}),n.a.createElement(b.a,{onClick:C,color:"inherit"},1===N?n.a.createElement(w.a,null):n.a.createElement(g.a,null)))),n.a.createElement(k,{grid:l}))},N=Object(l.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column"},title:{color:"red"}});var M=function(e){var r=e.endGame,t=N();return n.a.createElement("div",{className:t.main},n.a.createElement(s.a,{variant:"h1",className:t.title},"You lost!"),n.a.createElement(m.a,{variant:"contained",onClick:r},"Play again"))},D=Object(l.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}});var R=function(){var e=D(),r=Object(a.useState)("startScreen"),t=Object(o.a)(r,2),c=t[0],u=t[1];return n.a.createElement("div",{className:e.wrapper},n.a.createElement(i.a,null),"startScreen"===c&&n.a.createElement(d,{startGame:function(){return u("gameScreen")}}),"gameScreen"===c&&n.a.createElement(S,{gameOver:function(){return u("gameOverScreen")}}),"gameOverScreen"===c&&n.a.createElement(M,{endGame:function(){return u("gameScreen")}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.f6211480.chunk.js.map