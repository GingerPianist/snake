(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{88:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(88),a(14)),u=a(70),i=a(122),s=a(148),m=a(149),g=a(55),d=a(54),f=a(38),p=a(126),E=a(71),h=a(155),b=a(129),k=a(130),v=Object(n.createContext)("test"),O={polish:{title:{instruction:"Instrukcja (ju\u017c nied\u0142ugo)",startButton:"Rozpocznij gr\u0119",languageButton:"Wybierz j\u0119zyk"},settings:{name:"Ustawnienia",border:"Ramka",noBorder:"Brak ramki"},toolbar:{pauseTooltip:"Pauza, skr\xf3t: p",settingsTooltip:"Ustawienia, skr\xf3t: s",score:"Tw\xf3j wynik: "},ranking:{}},english:{title:{instruction:"Instruction (soon)",startButton:"Start game",languageButton:"Choose language"},settings:{name:"Settings",border:"Border",noBorder:"No border"},toolbar:{pauseTooltip:"Pause, shortcut: p",settingsTooltip:"Settings, shortcut: s",score:"Your score: "},ranking:{}},french:{title:{instruction:"L'instruction (bient\xf4t)",startButton:"Jouer",languageButton:"Choisir une langue"},settings:{name:"R\xe9glage",border:"Cadre",noBorder:"Sans cadre"},toolbar:{pauseTooltip:"Pause, abr\xe9v.: p",settingsTooltip:"R\xe9glage, abr\xe9v.: s",score:"Ton score: "},ranking:{}}};function j(e){var t=e.children,a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],u=c[1],i=Object(n.useState)("english"),s=Object(l.a)(i,2),m=s[0],g=s[1];return r.a.createElement(v.Provider,{value:{settings:{borders:o,setBorders:u},language:O[m],setCurrentLanguage:g,currentLanguage:m}},t)}function S(){return Object(n.useContext)(v)}var w=a(34),y=a.n(w),C=Object(i.a)({main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column"},title:{color:"red"}});var x=function(e){var t=e.startGame,a=C(),c=S().language,o=Object(n.useState)(!1),u=Object(l.a)(o,2),i=u[0],s=u[1],m=S().setCurrentLanguage,g=Object(n.useRef)();return r.a.createElement("div",{className:a.main},r.a.createElement(f.a,{variant:"h1",className:a.title},"Snake"),r.a.createElement(p.a,{variant:"contained",onClick:t},c.title.startButton),r.a.createElement(p.a,{variant:"contained",onClick:function(){}},c.title.instruction),r.a.createElement(p.a,{variant:"contained",onClick:function(){s(!0)},ref:g},c.title.languageButton),r.a.createElement(E.a,{open:Boolean(i),onClose:function(){s(!1)},anchorEl:g.current},r.a.createElement(h.a,{onClick:function(){m("polish"),s(!1)}},r.a.createElement(b.a,null,r.a.createElement(y.a,{code:"pol",height:"12"})),r.a.createElement(k.a,{primary:"Polski"})),r.a.createElement(h.a,{onClick:function(){m("english"),s(!1)}},r.a.createElement(b.a,null,r.a.createElement(y.a,{code:"gbr",height:"12"})),r.a.createElement(k.a,{primary:"English"})),r.a.createElement(h.a,{onClick:function(){m("french"),s(!1)}},r.a.createElement(b.a,null,r.a.createElement(y.a,{code:"fra",height:"12"})),r.a.createElement(k.a,{primary:"Fran\xe7ais"}))))},B=a(43),L=Object(i.a)({});var R=function(e){var t=e.grid,a=(L(),S().settings.borders);return r.a.createElement("div",null,r.a.createElement("table",{style:{borderSpacing:!0===a?"1px":"0px"}},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",null,e.map((function(e){return r.a.createElement("td",{style:{height:30,width:30,backgroundColor:e}})})))})))))},N=a(131),I=a(132),T=a(133),D=a(154),P=a(153),M=a(134),A=a(152),G=a(138),J=a(139),z=a(140),W=a(156),Y=a(135),U=a(136),F=a(137),K=Object(i.a)({header:{display:"flex",flexDirection:"row",alignItems:"center"},appBar:{backgroundColor:g.a[900]}});var $=function(e){var t=e.pause,a=e.setPause,c=e.snakeSpeed,o=e.setSnakeSpeed,u=e.score,i=K(),s=S().language,m=Object(n.useState)(!1),g=Object(l.a)(m,2),d=g[0],p=g[1],E=S(),h=E.settings.borders,b=E.settings.setBorders;function k(e){"s"===e.key&&p((function(e){return a(!e),!e})),"p"===e.key&&p(!1)}return Object(n.useEffect)((function(){return document.addEventListener("keydown",k),function(){document.removeEventListener("keydown",k)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{position:"static",className:i.appBar},r.a.createElement(I.a,{className:i.header},r.a.createElement(T.a,{container:!0,spacing:2,justify:"space-between",alignItems:"center"},r.a.createElement(T.a,{item:!0},r.a.createElement(f.a,{variant:"h6"},s.toolbar.score,u)),r.a.createElement(T.a,{item:!0,xs:6},r.a.createElement(D.a,{value:c,onChange:function(e,t){return o(t)},valueLabelDisplay:"auto",min:30,max:500})),r.a.createElement(T.a,{item:!0},r.a.createElement(y.a,{code:{polish:"pol",english:"gbr",french:"fra",german:"ger"}[E.currentLanguage],height:"16"})),r.a.createElement(T.a,{item:!0},r.a.createElement(P.a,{title:s.toolbar.settingsTooltip},r.a.createElement(M.a,{color:"inherit",onClick:function(){p(!0),a(!0)}},r.a.createElement(Y.a,null))),r.a.createElement(P.a,{title:s.toolbar.pauseTooltip},r.a.createElement(M.a,{onClick:function(){return a((function(e){return!e}))},color:"inherit"},t?r.a.createElement(U.a,null):r.a.createElement(F.a,null))))))),r.a.createElement(A.a,{open:d,onClose:function(){p(!1),a(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(G.a,null,s.settings.name),r.a.createElement(J.a,null,r.a.createElement(z.a,{control:r.a.createElement(W.a,{checked:h,onChange:function(e){b(e.target.checked)}}),label:!0===h?s.settings.border:s.settings.noBorder}))))},q=a(141),H=Object(i.a)({main:{margin:"auto"}}),Q={snake:g.a[500],apple:q.a[400],grid:"lightgrey"};var V=function(e){var t=e.gameOver,a=e.snakeSpeed,c=e.setSnakeSpeed,o=H(),u=20,i=40,s=Object(n.useState)([]),m=Object(l.a)(s,2),g=m[0],d=m[1],f=Object(n.useRef)([0,0]),p=Object(n.useRef)([]),E=Object(n.useRef)([0]),h=Object(n.useRef)(4),b=Object(n.useRef)([0,0]),k=Object(n.useState)(!1),v=Object(l.a)(k,2),O=v[0],j=v[1];function S(){switch(E.current.length>1&&E.current.shift(),E.current[0]){case 0:f.current[1]++;break;case 1:f.current[0]--;break;case 2:f.current[1]--;break;case 3:f.current[0]++}f.current[0]+=u,f.current[0]%=u,f.current[1]+=i,f.current[1]%=i,0!==p.current[f.current[0]][f.current[1]]?t(h.current):d((function(e){for(var t=Object(B.a)(e),a=0;a<u;a++)for(var n=0;n<i;n++)0!==p.current[a][n]&&(--p.current[a][n],0===p.current[a][n]&&(t[a]=Object(B.a)(e[a]),t[a][n]=Q.grid));if(p.current[f.current[0]][f.current[1]]=h.current,f.current[0]===b.current[0]&&f.current[1]===b.current[1])if(h.current++,h.current<800){do{b.current[0]=Math.floor(Math.random()*u),b.current[1]=Math.floor(Math.random()*i)}while(0!==p.current[b.current[0]][b.current[1]]);t[b.current[0]]=Object(B.a)(t[b.current[0]]),t[b.current[0]][b.current[1]]=Q.apple}else b.current=[-1,-1];return t[f.current[0]]=Object(B.a)(t[f.current[0]]),t[f.current[0]][f.current[1]]=Q.snake,t}))}function w(e){var t=E.current[E.current.length-1];switch(e.key){case"ArrowRight":2!==t&&E.current.push(0);break;case"ArrowUp":3!==t&&E.current.push(1);break;case"ArrowLeft":0!==t&&E.current.push(2);break;case"ArrowDown":1!==t&&E.current.push(3);break;case"p":j((function(e){return!e}))}}return Object(n.useEffect)((function(){b.current[0]=Math.floor(Math.random()*u),b.current[1]=Math.floor(Math.random()*i);var e=[];p.current=[];for(var t=0;t<u;t++){for(var a=[],n=[],r=0;r<i;r++)t===b.current[0]&&r===b.current[1]?a.push(Q.apple):a.push(Q.grid),n.push(0);e.push(a),p.current.push(n)}d(e)}),[]),Object(n.useEffect)((function(){var e;return!1===O&&(e=setInterval(S,a)),function(){clearInterval(e)}}),[O,a]),Object(n.useEffect)((function(){return document.addEventListener("keydown",w),function(){document.removeEventListener("keydown",w)}}),[]),r.a.createElement("div",{className:o.main},r.a.createElement($,{pause:O,setPause:j,snakeSpeed:a,setSnakeSpeed:c,score:h.current}),r.a.createElement(R,{grid:g}))},X=a(150),Z=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column",textAlign:"center"},title:{color:"red"}});var _=function(e){var t=e.score,a=e.endGame,c=e.showRanking,o=e.snakeSpeed,u=Z(),i=Object(n.useState)(""),s=Object(l.a)(i,2),m=s[0],g=s[1],d=Object(n.useState)(!0),E=Object(l.a)(d,2),h=E[0],b=E[1];return r.a.createElement("div",{className:u.main},r.a.createElement(f.a,{variant:"h1",className:u.title},"You lost!"),r.a.createElement(p.a,{variant:"contained",onClick:a},"Play again"),r.a.createElement(p.a,{variant:"contained",onClick:c},"Best scores"),r.a.createElement(f.a,null,"Your score is ",t),h&&r.a.createElement(X.a,{label:"Your name",variant:"outlined",value:m,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&function(){b(!1);var e=JSON.parse(localStorage.getItem("ranking")||"[]");e.push({name:m,score:t,snakeSpeed:o}),localStorage.setItem("ranking",JSON.stringify(e)),c()}()}}))},ee=a(142),te=a(143),ae=a(144),ne=a(145),re=a(146),ce=a(147);var oe=function(e){var t=e.startGameAgain,a=JSON.parse(localStorage.getItem("ranking")||"[]");return a.sort((function(e,t){return t.score-e.score})),r.a.createElement("div",null,r.a.createElement("div",{align:"center"},r.a.createElement(p.a,{variant:"contained",onClick:t},"Play again")),r.a.createElement(ee.a,null,r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ne.a,null,r.a.createElement(re.a,null,"Ranking"),r.a.createElement(re.a,null,"Username"),r.a.createElement(re.a,null,"Best score"),r.a.createElement(re.a,null,"Your speed"))),r.a.createElement(ce.a,null,a.map((function(e){var t=e.name,a=e.score,n=e.snakeSpeed;return r.a.createElement(ne.a,null,r.a.createElement(re.a,null),r.a.createElement(re.a,null,t),r.a.createElement(re.a,null,a),r.a.createElement(re.a,null,n))}))))))},le=(a(94),Object(i.a)({main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column",padding:8}}),Object(u.a)({palette:{primary:g.a,secondary:d.a}})),ue=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}});var ie=function(){var e=ue(),t=Object(n.useState)("startScreen"),a=Object(l.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(-1),i=Object(l.a)(u,2),g=i[0],d=i[1],f=Object(n.useState)(200),p=Object(l.a)(f,2),E=p[0],h=p[1],b=S().setCurrentLanguage;function k(e){switch(console.log(e.key),e.key){case"f":b("french");break;case"l":b("polish");break;case"e":b("english")}}return Object(n.useEffect)((function(){return document.addEventListener("keydown",k),function(){document.removeEventListener("keydown",k)}}),[]),r.a.createElement(s.a,{theme:le},r.a.createElement("div",{className:e.wrapper},r.a.createElement(m.a,null),"startScreen"===c&&r.a.createElement(x,{startGame:function(){return o("gameScreen")}}),"gameScreen"===c&&r.a.createElement(V,{gameOver:function(e){d(e),o("gameOverScreen")},snakeSpeed:E,setSnakeSpeed:h}),"gameOverScreen"===c&&r.a.createElement(_,{score:g,endGame:function(){o("gameScreen"),h(200)},showRanking:function(){return o("rankingScreen")},snakeSpeed:E}),"rankingScreen"===c&&r.a.createElement(oe,{startGameAgain:function(){return o("gameScreen")}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[93,1,2]]]);
//# sourceMappingURL=main.a2bffc17.chunk.js.map