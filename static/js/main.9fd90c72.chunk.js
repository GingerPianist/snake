(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{67:function(e,t,r){e.exports=r(77)},72:function(e,t,r){},77:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(10),l=r.n(c),u=(r(72),r(14)),o=r(53),i=r(103),s=r(122),m=r(123),f=r(43),d=r(42),v=r(106),h=r(108),g=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column"},title:{color:"red"}});var E=function(e){var t=e.startGame,r=e.startTurbo,a=g();return n.a.createElement("div",{className:a.main},n.a.createElement(v.a,{variant:"h1",className:a.title},"Snake"),n.a.createElement(h.a,{variant:"contained",onClick:t},"Play Classic Snake"),n.a.createElement(h.a,{variant:"contained",onClick:r},"Play Turbo Snake"))},p=r(31),b=r(110),k=r(111),O=r(126),w=r(113),j=r(114),S=r(115),y=Object(i.a)({});var x=function(e){var t=e.grid;return y(),n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("tbody",null,t.map((function(e){return n.a.createElement("tr",null,e.map((function(e){return n.a.createElement("td",{style:{height:30,width:30,backgroundColor:e}})})))})))))},N=r(109),C=Object(i.a)({main:{margin:"auto"},header:{display:"flex",flexDirection:"row",alignItems:"center"},grow:{flexGrow:1},appBar:{backgroundColor:f.a[900]}}),R={snake:f.a[500],apple:N.a[400],grid:"lightgrey"};var D=function(e){var t=e.gameOver,r=e.snakeSpeed,c=C(),l=Object(a.useState)([]),o=Object(u.a)(l,2),i=o[0],s=o[1],m=Object(a.useRef)([0,0]),f=Object(a.useRef)([]),d=Object(a.useRef)(0),h=Object(a.useRef)(4),g=Object(a.useRef)([0,0]),E=Object(a.useState)(0),y=Object(u.a)(E,2),N=y[0],D=y[1];function M(){switch(d.current){case 0:m.current[1]++;break;case 1:m.current[0]--;break;case 2:m.current[1]--;break;case 3:m.current[0]++}m.current[0]+=20,m.current[0]%=20,m.current[1]+=40,m.current[1]%=40,0!==f.current[m.current[0]][m.current[1]]?t(h.current):s((function(e){for(var t=Object(p.a)(e),r=0;r<20;r++)for(var a=0;a<40;a++)0!==f.current[r][a]&&(--f.current[r][a],0===f.current[r][a]&&(t[r]=Object(p.a)(e[r]),t[r][a]=R.grid));if(f.current[m.current[0]][m.current[1]]=h.current,m.current[0]===g.current[0]&&m.current[1]===g.current[1])if(h.current++,h.current<800){do{g.current[0]=Math.floor(20*Math.random()),g.current[1]=Math.floor(40*Math.random())}while(0!==f.current[g.current[0]][g.current[1]]);t[g.current[0]]=Object(p.a)(t[g.current[0]]),t[g.current[0]][g.current[1]]=R.apple}else g.current=[-1,-1];return t[m.current[0]]=Object(p.a)(t[m.current[0]]),t[m.current[0]][m.current[1]]=R.snake,t}))}function A(e){switch(e.key){case"ArrowRight":2!==d.current&&(d.current=0);break;case"ArrowUp":3!==d.current&&(d.current=1);break;case"ArrowLeft":0!==d.current&&(d.current=2);break;case"ArrowDown":1!==d.current&&(d.current=3);break;case"p":G()}}function G(){D(1===N?0:1)}return Object(a.useEffect)((function(){g.current[0]=Math.floor(20*Math.random()),g.current[1]=Math.floor(40*Math.random());var e=[];f.current=[];for(var t=0;t<20;t++){for(var r=[],a=[],n=0;n<40;n++)t===g.current[0]&&n===g.current[1]?r.push(R.apple):r.push(R.grid),a.push(0);e.push(r),f.current.push(a)}s(e)}),[]),Object(a.useEffect)((function(){var e;return 0===N&&(e=setInterval(M,r)),document.addEventListener("keydown",A),function(){clearInterval(e),document.removeEventListener("keydown",A)}}),[N]),n.a.createElement("div",{className:c.main},n.a.createElement(b.a,{position:"static",className:c.appBar},n.a.createElement(k.a,{className:c.header},n.a.createElement(v.a,{variant:"h6"},"Your score is: ",h.current),n.a.createElement("div",{className:c.grow}),n.a.createElement(O.a,{title:"p"},n.a.createElement(w.a,{onClick:G,color:"inherit"},1===N?n.a.createElement(j.a,null):n.a.createElement(S.a,null))))),n.a.createElement(x,{grid:i}))},M=r(124),A=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column",textAlign:"center"},title:{color:"red"}});var G=function(e){var t=e.score,r=e.endGame,c=e.showRanking,l=A(),o=Object(a.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1],f=Object(a.useState)(!0),d=Object(u.a)(f,2),g=d[0],E=d[1];return n.a.createElement("div",{className:l.main},n.a.createElement(v.a,{variant:"h1",className:l.title},"You lost!"),n.a.createElement(h.a,{variant:"contained",onClick:r},"Play again"),n.a.createElement(h.a,{variant:"contained",onClick:c},"Best scores"),n.a.createElement(v.a,null,"Your score is ",t),g&&n.a.createElement(M.a,{label:"Your name",variant:"outlined",value:s,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&function(){E(!1);var e=JSON.parse(localStorage.getItem("ranking")||"[]");e.push({name:s,score:t}),localStorage.setItem("ranking",JSON.stringify(e)),c()}()}}))},I=r(116),B=r(117),J=r(118),P=r(119),Y=r(120),L=r(121);var T=function(e){var t=e.startGameAgain,r=JSON.parse(localStorage.getItem("ranking")||"[]");return r.sort((function(e,t){return t.score-e.score})),n.a.createElement("div",null,n.a.createElement("div",{align:"center"},n.a.createElement(h.a,{variant:"contained",onClick:t},"Play again")),n.a.createElement(I.a,null,n.a.createElement(B.a,null,n.a.createElement(J.a,null,n.a.createElement(P.a,null,n.a.createElement(Y.a,null,"Ranking"),n.a.createElement(Y.a,null,"Username"),n.a.createElement(Y.a,null,"Best score"))),n.a.createElement(L.a,null,r.map((function(e){var t=e.name,r=e.score;return n.a.createElement(P.a,null,n.a.createElement(Y.a,null),n.a.createElement(Y.a,null,t),n.a.createElement(Y.a,null,r))}))))))},U=Object(o.a)({palette:{primary:f.a,secondary:d.a}}),W=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}});var K=function(){var e=W(),t=Object(a.useState)("startScreen"),r=Object(u.a)(t,2),c=r[0],l=r[1],o=Object(a.useState)(-1),i=Object(u.a)(o,2),f=i[0],d=i[1],v=Object(a.useState)(200),h=Object(u.a)(v,2),g=h[0],p=h[1];return n.a.createElement(s.a,{theme:U},n.a.createElement("div",{className:e.wrapper},n.a.createElement(m.a,null),"startScreen"===c&&n.a.createElement(E,{startGame:function(){return l("gameScreen")},startTurbo:function(){l("gameScreen"),p(100)}}),"gameScreen"===c&&n.a.createElement(D,{gameOver:function(e){d(e),l("gameOverScreen")},snakeSpeed:g}),"gameOverScreen"===c&&n.a.createElement(G,{score:f,endGame:function(){l("startScreen"),p(200)},showRanking:function(){return l("rankingScreen")}}),"rankingScreen"===c&&n.a.createElement(T,{startGameAgain:function(){return l("gameScreen")}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[67,1,2]]]);
//# sourceMappingURL=main.9fd90c72.chunk.js.map