(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{84:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=(a(84),a(14)),u=a(64),i=a(117),s=a(141),m=a(142),g=a(50),d=a(49),f=a(67),p=a(121),h=Object(n.createContext)("test"),b={polish:{title:{instruction:"Rad\u017a se sam",startButton:"Rozpocznij gr\u0119",languageButton:"Wybierz j\u0119zyk"},settings:{name:"Ustawnienia",border:"Ramka",noBorder:"Brak ramki"},toolbar:{pauseTooltip:"Pauza, skr\xf3t: p",settingsTooltip:"Ustawienia, skr\xf3t: s",score:"Tw\xf3j wynik: "},ranking:{}},english:{title:{instruction:"It's your problem",startButton:"Start game",languageButton:"Choose language"},settings:{name:"Settings",border:"Border",noBorder:"No border"},toolbar:{pauseTooltip:"Pause, shortcut: p",settingsTooltip:"Settings, shortcut: s",score:"Your score: "},ranking:{}},french:{title:{instruction:"C'est ton probl\xe9me",startButton:"Jouer",languageButton:"Choisir une langue"},settings:{name:"R\xe9glage",border:"Cadre",noBorder:"Sans cadre"},toolbar:{pauseTooltip:"Pause, abr\xe9v.: p",settingsTooltip:"R\xe9glage, abr\xe9v.: s",score:"Ton score: "},ranking:{}}};function E(e){var t=e.children,a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],u=c[1],i=Object(n.useState)("english"),s=Object(l.a)(i,2),m=s[0],g=s[1];return r.a.createElement(h.Provider,{value:{settings:{borders:o,setBorders:u},language:b[m],setCurrentLanguage:g,currentLanguage:m}},t)}function v(){return Object(n.useContext)(h)}var k=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column"},title:{color:"red"}});var O=function(e){var t=e.startGame,a=k(),n=v().language;return r.a.createElement("div",{className:a.main},r.a.createElement(f.a,{variant:"h1",className:a.title},"Snake"),r.a.createElement(p.a,{variant:"contained",onClick:t},n.title.startButton))},S=a(39),j=Object(i.a)({});var w=function(e){var t=e.grid,a=(j(),v().settings.borders);return r.a.createElement("div",null,r.a.createElement("table",{style:{borderSpacing:!0===a?"1px":"0px"}},r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",null,e.map((function(e){return r.a.createElement("td",{style:{height:30,width:30,backgroundColor:e}})})))})))))},y=a(122),x=a(123),B=a(124),C=a(147),R=a(146),L=a(127),N=a(145),T=a(131),D=a(132),I=a(133),M=a(148),P=a(128),A=a(129),G=a(130),J=a(62),z=a.n(J),W=Object(i.a)({header:{display:"flex",flexDirection:"row",alignItems:"center"},appBar:{backgroundColor:g.a[900]}});var Y=function(e){var t=e.pause,a=e.setPause,c=e.snakeSpeed,o=e.setSnakeSpeed,u=e.score,i=W(),s=v().language,m=Object(n.useState)(!1),g=Object(l.a)(m,2),d=g[0],p=g[1],h=v(),b=h.settings.borders,E=h.settings.setBorders;function k(e){"s"===e.key&&p((function(e){return a(!e),!e})),"p"===e.key&&p(!1)}return Object(n.useEffect)((function(){return document.addEventListener("keydown",k),function(){document.removeEventListener("keydown",k)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{position:"static",className:i.appBar},r.a.createElement(x.a,{className:i.header},r.a.createElement(B.a,{container:!0,spacing:2,justify:"space-between",alignItems:"center"},r.a.createElement(B.a,{item:!0},r.a.createElement(f.a,{variant:"h6"},s.toolbar.score,u)),r.a.createElement(B.a,{item:!0,xs:6},r.a.createElement(C.a,{value:c,onChange:function(e,t){return o(t)},valueLabelDisplay:"auto",min:30,max:500})),r.a.createElement(B.a,{item:!0},r.a.createElement(z.a,{code:{polish:"pol",english:"gbr",french:"fra",german:"ger"}[h.currentLanguage],height:"16"})),r.a.createElement(B.a,{item:!0},r.a.createElement(R.a,{title:s.toolbar.settingsTooltip},r.a.createElement(L.a,{color:"inherit",onClick:function(){p(!0),a(!0)}},r.a.createElement(P.a,null))),r.a.createElement(R.a,{title:s.toolbar.pauseTooltip},r.a.createElement(L.a,{onClick:function(){return a((function(e){return!e}))},color:"inherit"},t?r.a.createElement(A.a,null):r.a.createElement(G.a,null))))))),r.a.createElement(N.a,{open:d,onClose:function(){p(!1),a(!1)},fullWidth:!0,maxWidth:"sm"},r.a.createElement(T.a,null,s.settings.name),r.a.createElement(D.a,null,r.a.createElement(I.a,{control:r.a.createElement(M.a,{checked:b,onChange:function(e){E(e.target.checked)}}),label:!0===b?s.settings.border:s.settings.noBorder}))))},U=a(134),F=Object(i.a)({main:{margin:"auto"}}),K={snake:g.a[500],apple:U.a[400],grid:"lightgrey"};var $=function(e){var t=e.gameOver,a=e.snakeSpeed,c=e.setSnakeSpeed,o=F(),u=20,i=40,s=Object(n.useState)([]),m=Object(l.a)(s,2),g=m[0],d=m[1],f=Object(n.useRef)([0,0]),p=Object(n.useRef)([]),h=Object(n.useRef)([0]),b=Object(n.useRef)(4),E=Object(n.useRef)([0,0]),v=Object(n.useState)(!1),k=Object(l.a)(v,2),O=k[0],j=k[1];function y(){switch(h.current.length>1&&h.current.shift(),h.current[0]){case 0:f.current[1]++;break;case 1:f.current[0]--;break;case 2:f.current[1]--;break;case 3:f.current[0]++}f.current[0]+=u,f.current[0]%=u,f.current[1]+=i,f.current[1]%=i,0!==p.current[f.current[0]][f.current[1]]?t(b.current):d((function(e){for(var t=Object(S.a)(e),a=0;a<u;a++)for(var n=0;n<i;n++)0!==p.current[a][n]&&(--p.current[a][n],0===p.current[a][n]&&(t[a]=Object(S.a)(e[a]),t[a][n]=K.grid));if(p.current[f.current[0]][f.current[1]]=b.current,f.current[0]===E.current[0]&&f.current[1]===E.current[1])if(b.current++,b.current<800){do{E.current[0]=Math.floor(Math.random()*u),E.current[1]=Math.floor(Math.random()*i)}while(0!==p.current[E.current[0]][E.current[1]]);t[E.current[0]]=Object(S.a)(t[E.current[0]]),t[E.current[0]][E.current[1]]=K.apple}else E.current=[-1,-1];return t[f.current[0]]=Object(S.a)(t[f.current[0]]),t[f.current[0]][f.current[1]]=K.snake,t}))}function x(e){var t=h.current[h.current.length-1];switch(e.key){case"ArrowRight":2!==t&&h.current.push(0);break;case"ArrowUp":3!==t&&h.current.push(1);break;case"ArrowLeft":0!==t&&h.current.push(2);break;case"ArrowDown":1!==t&&h.current.push(3);break;case"p":j((function(e){return!e}))}}return Object(n.useEffect)((function(){E.current[0]=Math.floor(Math.random()*u),E.current[1]=Math.floor(Math.random()*i);var e=[];p.current=[];for(var t=0;t<u;t++){for(var a=[],n=[],r=0;r<i;r++)t===E.current[0]&&r===E.current[1]?a.push(K.apple):a.push(K.grid),n.push(0);e.push(a),p.current.push(n)}d(e)}),[]),Object(n.useEffect)((function(){var e;return!1===O&&(e=setInterval(y,a)),function(){clearInterval(e)}}),[O,a]),Object(n.useEffect)((function(){return document.addEventListener("keydown",x),function(){document.removeEventListener("keydown",x)}}),[]),r.a.createElement("div",{className:o.main},r.a.createElement(Y,{pause:O,setPause:j,snakeSpeed:a,setSnakeSpeed:c,score:b.current}),r.a.createElement(w,{grid:g}))},q=a(143),H=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column",textAlign:"center"},title:{color:"red"}});var Q=function(e){var t=e.score,a=e.endGame,c=e.showRanking,o=e.snakeSpeed,u=H(),i=Object(n.useState)(""),s=Object(l.a)(i,2),m=s[0],g=s[1],d=Object(n.useState)(!0),h=Object(l.a)(d,2),b=h[0],E=h[1];return r.a.createElement("div",{className:u.main},r.a.createElement(f.a,{variant:"h1",className:u.title},"You lost!"),r.a.createElement(p.a,{variant:"contained",onClick:a},"Play again"),r.a.createElement(p.a,{variant:"contained",onClick:c},"Best scores"),r.a.createElement(f.a,null,"Your score is ",t),b&&r.a.createElement(q.a,{label:"Your name",variant:"outlined",value:m,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&function(){E(!1);var e=JSON.parse(localStorage.getItem("ranking")||"[]");e.push({name:m,score:t,snakeSpeed:o}),localStorage.setItem("ranking",JSON.stringify(e)),c()}()}}))},V=a(135),X=a(136),Z=a(137),_=a(138),ee=a(139),te=a(140);var ae=function(e){var t=e.startGameAgain,a=JSON.parse(localStorage.getItem("ranking")||"[]");return a.sort((function(e,t){return t.score-e.score})),r.a.createElement("div",null,r.a.createElement("div",{align:"center"},r.a.createElement(p.a,{variant:"contained",onClick:t},"Play again")),r.a.createElement(V.a,null,r.a.createElement(X.a,null,r.a.createElement(Z.a,null,r.a.createElement(_.a,null,r.a.createElement(ee.a,null,"Ranking"),r.a.createElement(ee.a,null,"Username"),r.a.createElement(ee.a,null,"Best score"),r.a.createElement(ee.a,null,"Your speed"))),r.a.createElement(te.a,null,a.map((function(e){var t=e.name,a=e.score,n=e.snakeSpeed;return r.a.createElement(_.a,null,r.a.createElement(ee.a,null),r.a.createElement(ee.a,null,t),r.a.createElement(ee.a,null,a),r.a.createElement(ee.a,null,n))}))))))},ne=Object(u.a)({palette:{primary:g.a,secondary:d.a}}),re=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}});var ce=function(){var e=re(),t=Object(n.useState)("startScreen"),a=Object(l.a)(t,2),c=a[0],o=a[1],u=Object(n.useState)(-1),i=Object(l.a)(u,2),g=i[0],d=i[1],f=Object(n.useState)(200),p=Object(l.a)(f,2),h=p[0],b=p[1],E=v().setCurrentLanguage;function k(e){switch(console.log(e.key),e.key){case"f":E("french");break;case"l":E("polish");break;case"e":E("english")}}return Object(n.useEffect)((function(){return document.addEventListener("keydown",k),function(){document.removeEventListener("keydown",k)}}),[]),r.a.createElement(s.a,{theme:ne},r.a.createElement("div",{className:e.wrapper},r.a.createElement(m.a,null),"startScreen"===c&&r.a.createElement(O,{startGame:function(){return o("gameScreen")}}),"gameScreen"===c&&r.a.createElement($,{gameOver:function(e){d(e),o("gameOverScreen")},snakeSpeed:h,setSnakeSpeed:b}),"gameOverScreen"===c&&r.a.createElement(Q,{score:g,endGame:function(){o("gameScreen"),b(200)},showRanking:function(){return o("rankingScreen")},snakeSpeed:h}),"rankingScreen"===c&&r.a.createElement(ae,{startGameAgain:function(){return o("gameScreen")}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null,r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[89,1,2]]]);
//# sourceMappingURL=main.415e28e8.chunk.js.map