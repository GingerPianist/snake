(this.webpackJsonpsnake=this.webpackJsonpsnake||[]).push([[0],{59:function(e,r,t){e.exports=t(68)},64:function(e,r,t){},68:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),c=t(8),l=t.n(c),u=(t(64),t(13)),o=t(48),i=t(96),s=t(114),m=t(115),f=t(39),v=t(38),d=t(99),h=t(101),g=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column"},title:{color:"red"}});var E=function(e){var r=e.startGame,t=g();return n.a.createElement("div",{className:t.main},n.a.createElement(d.a,{variant:"h1",className:t.title},"Snake"),n.a.createElement(h.a,{variant:"contained",onClick:r},"Play"))},p=t(28),b=t(103),k=t(104),w=t(105),O=t(106),j=t(107),S=Object(i.a)({});var y=function(e){var r=e.grid;return S(),n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("tbody",null,r.map((function(e){return n.a.createElement("tr",null,e.map((function(e){return n.a.createElement("td",{style:{height:30,width:30,backgroundColor:e}})})))})))))},x=t(102),N=Object(i.a)({main:{margin:"auto"},header:{display:"flex",flexDirection:"row",alignItems:"center"},grow:{flexGrow:1},appBar:{backgroundColor:f.a[900]}}),R={snake:f.a[500],apple:x.a[400],grid:"lightgrey"};var C=function(e){var r=e.gameOver,t=N(),c=Object(a.useState)([]),l=Object(u.a)(c,2),o=l[0],i=l[1],s=Object(a.useRef)([0,0]),m=Object(a.useRef)([]),f=Object(a.useRef)(0),v=Object(a.useRef)(4),h=Object(a.useRef)([0,0]),g=Object(a.useState)(0),E=Object(u.a)(g,2),S=E[0],x=E[1];function C(){switch(f.current){case 0:s.current[1]++;break;case 1:s.current[0]--;break;case 2:s.current[1]--;break;case 3:s.current[0]++}s.current[0]+=20,s.current[0]%=20,s.current[1]+=40,s.current[1]%=40,0!==m.current[s.current[0]][s.current[1]]?r(v.current):i((function(e){for(var r=Object(p.a)(e),t=0;t<20;t++)for(var a=0;a<40;a++)0!==m.current[t][a]&&(--m.current[t][a],0===m.current[t][a]&&(r[t]=Object(p.a)(e[t]),r[t][a]=R.grid));if(m.current[s.current[0]][s.current[1]]=v.current,s.current[0]===h.current[0]&&s.current[1]===h.current[1])if(v.current++,v.current<800){do{h.current[0]=Math.floor(20*Math.random()),h.current[1]=Math.floor(40*Math.random())}while(0!==m.current[h.current[0]][h.current[1]]);r[h.current[0]]=Object(p.a)(r[h.current[0]]),r[h.current[0]][h.current[1]]=R.apple}else h.current=[-1,-1];return r[s.current[0]]=Object(p.a)(r[s.current[0]]),r[s.current[0]][s.current[1]]=R.snake,r}))}function D(e){switch(e.key){case"ArrowRight":2!==f.current&&(f.current=0);break;case"ArrowUp":3!==f.current&&(f.current=1);break;case"ArrowLeft":0!==f.current&&(f.current=2);break;case"ArrowDown":1!==f.current&&(f.current=3);break;case"p":M()}}function M(){x(1===S?0:1)}return Object(a.useEffect)((function(){h.current[0]=Math.floor(20*Math.random()),h.current[1]=Math.floor(40*Math.random());var e=[];m.current=[];for(var r=0;r<20;r++){for(var t=[],a=[],n=0;n<40;n++)r===h.current[0]&&n===h.current[1]?t.push(R.apple):t.push(R.grid),a.push(0);e.push(t),m.current.push(a)}i(e)}),[]),Object(a.useEffect)((function(){var e;return 0===S&&(e=setInterval(C,200)),document.addEventListener("keydown",D),function(){clearInterval(e),document.removeEventListener("keydown",D)}}),[S]),n.a.createElement("div",{className:t.main},n.a.createElement(b.a,{position:"static",className:t.appBar},n.a.createElement(k.a,{className:t.header},n.a.createElement(d.a,{variant:"h6"},"Your score is: ",v.current),n.a.createElement("div",{className:t.grow}),n.a.createElement(w.a,{onClick:M,color:"inherit"},1===S?n.a.createElement(O.a,null):n.a.createElement(j.a,null)))),n.a.createElement(y,{grid:o}))},D=t(116),M=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"},main:{margin:"auto",display:"flex",flexShrink:1,flexDirection:"column",textAlign:"center"},title:{color:"red"}});var A=function(e){var r=e.score,t=e.endGame,c=e.showRanking,l=M(),o=Object(a.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1],f=Object(a.useState)(!0),v=Object(u.a)(f,2),g=v[0],E=v[1];return n.a.createElement("div",{className:l.main},n.a.createElement(d.a,{variant:"h1",className:l.title},"You lost!"),n.a.createElement(h.a,{variant:"contained",onClick:t},"Play again"),n.a.createElement(h.a,{variant:"contained",onClick:c},"Best scores"),n.a.createElement(d.a,null,"Your score is ",r),g&&n.a.createElement(D.a,{label:"Your name",variant:"outlined",value:s,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&function(){E(!1);var e=JSON.parse(localStorage.getItem("ranking")||"[]");e.push({name:s,score:r}),localStorage.setItem("ranking",JSON.stringify(e)),c()}()}}))},G=t(108),I=t(109),B=t(110),J=t(111),Y=t(112),L=t(113);var P=function(e){var r=e.startGameAgain,t=JSON.parse(localStorage.getItem("ranking")||"[]");return t.sort((function(e,r){return r.score-e.score})),n.a.createElement("div",null,n.a.createElement("div",{align:"center"},n.a.createElement(h.a,{variant:"contained",onClick:r},"Play again")),n.a.createElement(G.a,null,n.a.createElement(I.a,null,n.a.createElement(B.a,null,n.a.createElement(J.a,null,n.a.createElement(Y.a,null,"Ranking"),n.a.createElement(Y.a,null,"Username"),n.a.createElement(Y.a,null,"Best score"))),n.a.createElement(L.a,null,t.map((function(e){var r=e.name,t=e.score;return n.a.createElement(J.a,null,n.a.createElement(Y.a,null),n.a.createElement(Y.a,null,r),n.a.createElement(Y.a,null,t))}))))))},U=Object(o.a)({palette:{primary:f.a,secondary:v.a}}),W=Object(i.a)({wrapper:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column"}});var K=function(){var e=W(),r=Object(a.useState)("startScreen"),t=Object(u.a)(r,2),c=t[0],l=t[1],o=Object(a.useState)(-1),i=Object(u.a)(o,2),f=i[0],v=i[1];return n.a.createElement(s.a,{theme:U},n.a.createElement("div",{className:e.wrapper},n.a.createElement(m.a,null),"startScreen"===c&&n.a.createElement(E,{startGame:function(){return l("gameScreen")}}),"gameScreen"===c&&n.a.createElement(C,{gameOver:function(e){v(e),l("gameOverScreen")}}),"gameOverScreen"===c&&n.a.createElement(A,{score:f,endGame:function(){return l("gameScreen")},showRanking:function(){return l("rankingScreen")}}),"rankingScreen"===c&&n.a.createElement(P,{startGameAgain:function(){return l("gameScreen")}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.7b648e30.chunk.js.map